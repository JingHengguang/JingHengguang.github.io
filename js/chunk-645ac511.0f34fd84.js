(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-645ac511"],{"063c":function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return i}));var o=e("b775");function c(t){return o["a"].post("/comments",t)}function i(t){return o["a"].get("/comments/".concat(t))}},1218:function(t,n,e){"use strict";e("2f79")},1474:function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[void 0!==t.list.article?e("el-card",{staticClass:"box-card"},[e("div",[e("div",{staticClass:"head",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(" "+t._s(t.list.article.title))])]),e("p",{domProps:{innerHTML:t._s(t.list.article.content.words)}}),e("div",{staticStyle:{width:"200px","margin-left":"500px"}},[e("p",[t._v(t._s(t.list.article.user.username))]),e("p",[t._v(t._s(t.list.article.updatedTime))])])]),void 0!==t.getCommentFrom?e("div",t._l(t.getCommentFrom,(function(n){return e("div",{key:n.id},t._l(t.user,(function(o){return e("div",{key:o.id},[n.fromUserId==o.id?e("div",[t._v(" "+t._s(o.username)+" "),e("span",[t._v("："+t._s(n.comment))])]):t._e()])})),0)})),0):t._e(),e("div",{staticClass:"fool"},[t.zan?e("el-button",{attrs:{icon:"el-icon-thumb",circle:""},on:{click:function(n){return t.CancelZan(t.zanFrom)}}}):e("el-button",{attrs:{type:"success",icon:"el-icon-thumb",circle:""},on:{click:function(n){return t.isZan(t.zanFrom)}}}),t._v(" "+t._s(t.list.article.likesNum)+" "),e("el-button",{attrs:{type:"warning",icon:"el-icon-view",circle:""}}),t._v("浏览量:"+t._s(t.list.article.readingsNum)+" "),e("el-button",{attrs:{type:"text"},on:{click:t.com}},[t._v("评论")])],1)]):t._e()],1)},c=[],i=(e("d81d"),e("2423")),r=e("063c"),s=e("8977"),a=e("5f87"),u={data:function(){return{user:[],userId:"",zan:!1,id:0,list:[],zanFrom:{UserId:0,ArticleId:0},comFrom:{FromUserId:0,ToUserId:0,ArticleId:0,Comment:""},getCommentFrom:[]}},methods:{isZan:function(t){this.zan=!this.zan,this.list.article.likesNum+=1,console.log(t),Object(s["a"])(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},CancelZan:function(t){this.zan=!this.zan,this.list.article.likesNum-=1,Object(s["a"])(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},com:function(){var t=this;this.$prompt("请输入你评论的内容","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(n){var e=n.value;t.$message({type:"success",message:"评论成功"}),t.comFrom.Comment=e,t.comFrom.FromUserId=t.userId,t.comFrom.ToUserId=t.list.article.userId,t.comFrom.ArticleId=t.id,console.log(t.comFrom,"xixi"),console.log("你的评论是: "+e),Object(r["a"])(t.comFrom).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))})).catch((function(){t.$message({type:"info",message:"取消评论"})}))},details:function(){var t=this;Object(i["b"])(this.id).then((function(n){t.list=n.data,console.log(t.list),t.list.like.map((function(n){n.articleId==t.id&&n.userId==t.userId&&n.applaud&&(t.zan=!0)})),t.zanFrom.UserId=t.userId,t.zanFrom.ArticleId=t.list.article.id,console.log(t.zanFrom)})).catch((function(t){console.log(t)}))},browse:function(){var t=this;Object(i["c"])(this.id).then((function(n){console.log(n),t.list.article.readingsNum+=1})).catch((function(t){console.log(t)}))},getCommentByArticleId:function(t){var n=this;Object(r["b"])(t).then((function(t){n.getCommentFrom=t.data.comment,n.user=t.data.user,console.log(n.user)})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;this.userId=Object(a["d"])(),this.id=this.$route.query.id,console.log(this.id),this.details(),this.getCommentByArticleId(this.id),setTimeout((function(){t.browse()}),2e4)}},l=u,d=(e("1218"),e("0c7c")),f=Object(d["a"])(l,o,c,!1,null,"3d421b00",null);n["default"]=f.exports},"1dde":function(t,n,e){var o=e("d039"),c=e("b622"),i=e("2d00"),r=c("species");t.exports=function(t){return i>=51||!o((function(){var n=[],e=n.constructor={};return e[r]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},2423:function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return i})),e.d(n,"e",(function(){return r})),e.d(n,"d",(function(){return s})),e.d(n,"c",(function(){return a}));var o=e("b775");function c(t){return o["a"].get("/articles",{params:t})}function i(t){return o["a"].get("/articles/".concat(t))}function r(){return o["a"].get("/articles/isRecommend")}function s(){return o["a"].get("/articles/reading")}function a(t){return o["a"].put("/articles/putRead/".concat(t))}},"2f79":function(t,n,e){},"65f0":function(t,n,e){var o=e("861d"),c=e("e8b5"),i=e("b622"),r=i("species");t.exports=function(t,n){var e;return c(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!c(e.prototype)?o(e)&&(e=e[r],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},8977:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var o=e("b775");function c(t){return o["a"].post("/likes",t)}},b727:function(t,n,e){var o=e("0366"),c=e("44ad"),i=e("7b0b"),r=e("50c4"),s=e("65f0"),a=[].push,u=function(t){var n=1==t,e=2==t,u=3==t,l=4==t,d=6==t,f=7==t,m=5==t||d;return function(h,v,p,g){for(var b,_,I=i(h),y=c(I),F=o(v,p,3),w=r(y.length),x=0,k=g||s,z=n?k(h,w):e||f?k(h,0):void 0;w>x;x++)if((m||x in y)&&(b=y[x],_=F(b,x,I),t))if(n)z[x]=_;else if(_)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:a.call(z,b)}else switch(t){case 4:return!1;case 7:a.call(z,b)}return d?-1:u||l?l:z}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},d81d:function(t,n,e){"use strict";var o=e("23e7"),c=e("b727").map,i=e("1dde"),r=i("map");o({target:"Array",proto:!0,forced:!r},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,n,e){var o=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-645ac511.0f34fd84.js.map