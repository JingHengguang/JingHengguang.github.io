{"version":3,"sources":["webpack:///./src/api/comment.js","webpack:///./src/views/readrecommend.vue?59ae","webpack:///./src/api/article.js","webpack:///./src/views/readrecommend.vue?93fa","webpack:///src/views/readrecommend.vue","webpack:///./src/views/readrecommend.vue?e9ce","webpack:///./src/views/readrecommend.vue","webpack:///./src/api/likes.js"],"names":["comment","data","request","post","getComment","id","get","getList","params","getbyId","recArticle","readArticle","putReadNUm","put","render","_vm","this","_h","$createElement","_c","_self","undefined","list","article","staticClass","attrs","slot","_v","_s","title","domProps","content","words","staticStyle","user","username","updatedTime","getCommentFrom","_l","key","u","fromUserId","_e","zan","on","$event","CancelZan","zanFrom","isZan","likesNum","readingsNum","com","staticRenderFns","userId","UserId","ArticleId","comFrom","FromUserId","ToUserId","Comment","methods","$prompt","confirmButtonText","cancelButtonText","details","browse","getCommentByArticleId","mounted","$route","query","console","log","setTimeout","component","isLike"],"mappings":"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","file":"js/chunk-4b166634.f48342e6.js","sourcesContent":["// 引入导出的axios\r\nimport request from \"../utils/request\";\r\n\r\n//评论 post请求\r\nexport function comment(data) {\r\n    return request.post('/comments', data)\r\n}\r\n\r\n//通过文章id获取评论 get请求\r\nexport function getComment(id) {\r\n    return request.get(`/comments/${id}`)\r\n}","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./readrecommend.vue?vue&type=style&index=0&id=2e689928&scoped=true&lang=less&\"","// 引入导出的axios\r\nimport request from \"../utils/request\";\r\n\r\n\r\n//通过title去查询articles里的信息  post请求\r\nexport function getByTitle(data) {\r\n  return request.post(`/articles/queryArticle`,data);\r\n}\r\n\r\n\r\n//查询所有的article信息 get请求\r\nexport function getList(params){\r\n    return request.get('/articles',{params:params})\r\n}\r\n\r\n//新增 post请求\r\nexport function addArticle(data){\r\n  return request.post('/articles',data)\r\n}\r\n\r\n//更改 put请求\r\nexport function modArticle(id,data){\r\n  return request.put(`/articles/${id}`,data)\r\n}   \r\n\r\n\r\n//删除 delete请求\r\nexport function delArticle(id){\r\n  return request.delete(`/articles/${id}`)\r\n}\r\n\r\n\r\n//根据id 查看某篇文章内容  get请求\r\nexport function getbyId(id){\r\n  return request.get(`/articles/${id}`)\r\n}\r\n\r\n\r\n//查看推荐的文章 get请求\r\nexport function recArticle(){\r\n  return request.get(`/articles/isRecommend`)\r\n}\r\n\r\n\r\n//查看48小时阅读排行 get请求\r\nexport function readArticle(){\r\n  return request.get(`/articles/reading`)\r\n}\r\n\r\n\r\n//更改 put请求\r\nexport function putReadNUm(id){\r\n  return request.put(`/articles/putRead/${id}`)\r\n}   \r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.list.article !== undefined)?_c('el-card',{staticClass:\"box-card\"},[_c('div',[_c('div',{staticClass:\"head\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.list.article.title))])]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.list.article.content.words)}}),_c('div',{staticStyle:{\"width\":\"200px\",\"margin-left\":\"500px\"}},[_c('p',[_vm._v(_vm._s(_vm.list.article.user.username))]),_c('p',[_vm._v(_vm._s(_vm.list.article.updatedTime))])])]),(_vm.getCommentFrom !== undefined)?_c('div',_vm._l((_vm.getCommentFrom),function(comment){return _c('div',{key:comment.id},_vm._l((_vm.user),function(u){return _c('div',{key:u.id},[(comment.fromUserId == u.id)?_c('div',[_vm._v(\" \"+_vm._s(u.username)+\" \"),_c('span',[_vm._v(\"：\"+_vm._s(comment.comment))])]):_vm._e()])}),0)}),0):_vm._e(),_c('div',{staticClass:\"fool\"},[(!_vm.zan)?_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-thumb\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.isZan(_vm.zanFrom)}}}):_c('el-button',{attrs:{\"icon\":\"el-icon-thumb\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.CancelZan(_vm.zanFrom)}}}),_vm._v(\" \"+_vm._s(_vm.list.article.likesNum)+\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-view\",\"circle\":\"\"}}),_vm._v(\"浏览量:\"+_vm._s(_vm.list.article.readingsNum)+\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.com}},[_vm._v(\"评论\")])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card class=\"box-card\" v-if=\"list.article !== undefined\">\r\n      <div>\r\n        <div slot=\"header\" class=\"head\">\r\n          <span> {{ list.article.title }}</span>\r\n        </div>\r\n\r\n        <p v-html=\"list.article.content.words\"></p>\r\n\r\n        <div style=\"width: 200px; margin-left: 500px\">\r\n          <p>{{ list.article.user.username }}</p>\r\n          <p>{{ list.article.updatedTime }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"getCommentFrom !== undefined\">\r\n        <div v-for=\"comment in getCommentFrom\" :key=\"comment.id\">\r\n          <div v-for=\"u in user\" :key=\"u.id\">\r\n            <!-- //判断当前的评论文章的用户==用户 -->\r\n            <div v-if=\"comment.fromUserId == u.id\">\r\n              {{ u.username }} <span>：{{ comment.comment }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"fool\">\r\n        <el-button\r\n          v-if=\"!zan\"\r\n          type=\"success\"\r\n          icon=\"el-icon-thumb\"\r\n          circle\r\n          @click=\"isZan(zanFrom)\"\r\n        ></el-button>\r\n        <el-button\r\n          v-else\r\n          icon=\"el-icon-thumb\"\r\n          circle\r\n          @click=\"CancelZan(zanFrom)\"\r\n        ></el-button>\r\n        {{ list.article.likesNum }}\r\n\r\n        <el-button type=\"warning\" icon=\"el-icon-view\" circle></el-button\r\n        >浏览量:{{ list.article.readingsNum }}\r\n\r\n        <el-button type=\"text\" @click=\"com\">评论</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getbyId, putReadNUm } from \"../api/article\";\r\nimport { comment, getComment } from \"../api/comment.js\";\r\nimport { isLike } from \"../api/likes.js\";\r\nimport { getUserId } from \"../utils/auth\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: [],\r\n      userId: \"\",\r\n      zan: false,\r\n      id: 0,\r\n      list: [],\r\n      zanFrom: {\r\n        UserId: 0,\r\n        ArticleId: 0,\r\n      },\r\n      //评论\r\n      comFrom: {\r\n        FromUserId: 0,\r\n        ToUserId: 0,\r\n        ArticleId: 0,\r\n        Comment: \"\",\r\n      },\r\n      //获取评论内容\r\n      getCommentFrom: [],\r\n    };\r\n  },\r\n  methods: {\r\n    //点赞触发的事件\r\n    isZan(msg) {\r\n      this.zan = !this.zan;\r\n      this.list.article.likesNum += 1;\r\n\r\n      // 点赞接口\r\n      isLike(msg)\r\n        .then((res) => {\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n\r\n    // 取消点赞\r\n    CancelZan(msg) {\r\n      this.zan = !this.zan;\r\n      this.list.article.likesNum -= 1;\r\n      // 点赞接口\r\n      isLike(msg)\r\n        .then((res) => {\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    //评论时\r\n    com() {\r\n      this.$prompt(\"请输入你评论的内容\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n      })\r\n        .then(({ value }) => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"评论成功\",\r\n          });\r\n\r\n          this.comFrom.Comment = value;\r\n          this.comFrom.FromUserId = this.userId;\r\n          this.comFrom.ToUserId = this.list.article.userId;\r\n          this.comFrom.ArticleId = this.id;\r\n\r\n          console.log(this.comFrom, \"xixi\");\r\n          console.log(\"你的评论是: \" + value);\r\n\r\n          //调用评论的接口\r\n          comment(this.comFrom)\r\n            .then((res) => {\r\n              console.log(res);\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消评论\",\r\n          });\r\n        });\r\n    },\r\n    details() {\r\n      getbyId(this.id)\r\n        .then((res) => {\r\n          this.list = res.data;\r\n          this.zan = this.list.like[0].applaud;\r\n          this.zanFrom.UserId = this.list.article.userId;\r\n          this.zanFrom.ArticleId = this.list.article.id;\r\n          console.log(this.list);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    //浏览时间过了之后调用\r\n    browse() {\r\n      putReadNUm(this.id)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.list.article.readingsNum += 1;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n\r\n    // 根据文章id获取评论\r\n    getCommentByArticleId(artcileId) {\r\n      getComment(artcileId)\r\n        .then((res) => {\r\n          this.getCommentFrom = res.data.comment;\r\n          this.user = res.data.user;\r\n          console.log(this.user);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.userId = getUserId();\r\n    // this.username=getUsername();\r\n\r\n    this.id = this.$route.query.id;\r\n    // console.log(this.$route.query);\r\n    console.log(this.id);\r\n    this.details();\r\n    this.getCommentByArticleId(this.id);\r\n\r\n    setTimeout(() => {\r\n      this.browse();\r\n    }, 20000);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.text {\r\n  font-size: 14px;\r\n}\r\n\r\n.item {\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n.clearfix:after {\r\n  clear: both;\r\n}\r\n\r\n.box-card {\r\n  width: 100wh;\r\n}\r\n.head {\r\n  font-size: 50px;\r\n  text-align: center;\r\n}\r\n.fool {\r\n  text-align: center;\r\n  margin-top: 200px;\r\n}\r\n.el-card__body {\r\n  height: 700px;\r\n  width: auto;\r\n  overflow: auto;\r\n  /* background:pink; */\r\n}\r\n.item {\r\n  margin-top: 10px;\r\n  margin-right: 40px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./readrecommend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./readrecommend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./readrecommend.vue?vue&type=template&id=2e689928&scoped=true&\"\nimport script from \"./readrecommend.vue?vue&type=script&lang=js&\"\nexport * from \"./readrecommend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./readrecommend.vue?vue&type=style&index=0&id=2e689928&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e689928\",\n  null\n  \n)\n\nexport default component.exports","// 引入导出的axios\r\nimport request from \"../utils/request\";\r\n\r\n//点赞 post请求\r\nexport function isLike(data) {\r\n    return request.post('/likes',data)\r\n}"],"sourceRoot":""}