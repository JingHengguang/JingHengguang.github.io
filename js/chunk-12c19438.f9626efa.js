(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c19438"],{"3f33":function(t,e,o){"use strict";o("fdb8")},"498a":function(t,e,o){"use strict";var r=o("23e7"),a=o("58a8").trim,i=o("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},"56cb":function(t,e,o){"use strict";o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return n})),o.d(e,"d",(function(){return s}));var r=o("b775");function a(t){return r["a"].get("/RotationChart",{params:t})}function i(t){return r["a"].post("/RotationChart/GetRotationChartsByremark",t)}function n(t){return r["a"].post("/RotationChart",t)}function s(t,e){return r["a"].put("/RotationChart/".concat(t),e)}},5847:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-arrow-left"},on:{click:t.handleCancel}},[t._v("返回上一页")]),o("div",{staticClass:"userinfo"},[o("el-form",{attrs:{"label-width":"100px"}},[t.isAdd?o("el-form-item",{attrs:{label:"原轮播图:"}},[o("img",{staticClass:"updateAvatarFile",attrs:{src:"http://localhost:5000/files/RotationChart?RotationChartUrl="+t.oldPicture,alt:"头像加载失败..."}})]):t._e(),o("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"新轮播图："}},[o("el-upload",{attrs:{"list-type":"picture-card",action:t.uploadRotationChartUrl,"auto-upload":!0,limit:t.limit,multiple:!1,"show-file-list":!0,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,"on-exceed":t.handleExceed,"on-error":t.imgUploadError}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",{staticStyle:{"margin-top":"20px",width:"400px"},attrs:{label:"备    注："}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.remarks,callback:function(e){t.$set(t.formData,"remarks",e)},expression:"formData.remarks"}})],1),o("el-form-item",[o("el-dialog",{attrs:{visible:t.dialogVisibleImg},on:{"update:visible":function(e){t.dialogVisibleImg=e}}},[o("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)],1)],1),o("div",{staticClass:"btn"},[o("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"primary",plain:""},on:{click:t.handleSave}},[t._v(" 确 定 "),o("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1)},a=[],i=(o("498a"),o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("b64b"),o("51a0")),n=o("56cb"),s={data:function(){return{uploadRotationChartUrl:"http://localhost:5000/files/uploadRotationChart/",dialogImageUrl:"",dialogVisibleImg:!1,limit:1,oldPicture:"",formData:{currentId:0,picture:"",remarks:""},from:{}}},methods:{handleCancel:function(){i["a"].push("/pictureinfo/rotationchartinfo")},handleSave:function(){var t=this;if(console.log(this.formData),0==this.formData.currentId){if(""==this.formData.picture.trim())return this.$message({type:"error",message:"轮播图不能为空"});Object(n["b"])(this.formData).then((function(e){console.log(e),200==e.code&&(t.$message({type:"success",message:"上传轮播图成功"}),i["a"].push("/pictureinfo/rotationchartinfo"))})).catch((function(t){console.log(t)}))}else Object(n["d"])(this.formData.currentId,this.formData).then((function(e){200==e.code&&(t.$message({type:"success",message:"修改轮播图成功"}),i["a"].push("/pictureinfo/rotationchartinfo"))})).catch((function(t){console.log(t)}))},handlePictureCardPreview:function(t){console.log("预览图片"),console.log(t),this.dialogImageUrl=t.url,this.dialogVisibleImg=!0},handleRemove:function(t,e){console.log("删除轮播图"),console.log(e),this.formData.picture=this.oldPicture},handleAvatarSuccess:function(t,e){this.dialogImageUrl=URL.createObjectURL(e.raw),200==t.code?(this.$message.success("图片上传成功!"),this.formData.picture=t.data):this.$message.error("图片上传失败，请重新上传！")},beforeAvatarUpload:function(t){console.log("图片上传之前事件"),console.log(t);var e="image/jpeg"===t.type,o=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&o},handleExceed:function(t,e){console.log(e),this.$message.error("只能上传一张头像哦，请删除前一张后重试")},imgUploadError:function(t,e,o){console.log("图片上传失败调用"),console.log(t),console.log(e),console.log(o),this.$message.error("上传图片失败!")}},computed:{isAdd:function(){return this.formData.currentId>0}},mounted:function(){var t=this.$route.query;console.log(t),0!=Object.keys(t).length&&(this.formData.currentId=t.id,this.oldPicture=t.picture,this.formData.picture=t.picture,this.formData.remarks=t.remarks),console.log(this.formData)}},c=s,l=(o("3f33"),o("2877")),u=Object(l["a"])(c,r,a,!1,null,null,null);e["default"]=u.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,o){var r=o("1d80"),a=o("5899"),i="["+a+"]",n=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(t){return function(e){var o=String(r(e));return 1&t&&(o=o.replace(n,"")),2&t&&(o=o.replace(s,"")),o}};t.exports={start:c(1),end:c(2),trim:c(3)}},b64b:function(t,e,o){var r=o("23e7"),a=o("7b0b"),i=o("df75"),n=o("d039"),s=n((function(){i(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return i(a(t))}})},c8d2:function(t,e,o){var r=o("d039"),a=o("5899"),i="​᠎";t.exports=function(t){return r((function(){return!!a[t]()||i[t]()!=i||a[t].name!==t}))}},fdb8:function(t,e,o){}}]);
//# sourceMappingURL=chunk-12c19438.f9626efa.js.map