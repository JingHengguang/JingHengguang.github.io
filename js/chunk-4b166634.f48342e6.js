(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b166634"],{"063c":function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return c}));var i=e("b775");function o(t){return i["a"].post("/comments",t)}function c(t){return i["a"].get("/comments/".concat(t))}},"0806":function(t,n,e){"use strict";e("33b9")},2423:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return c})),e.d(n,"e",(function(){return s})),e.d(n,"d",(function(){return r})),e.d(n,"c",(function(){return a}));var i=e("b775");function o(t){return i["a"].get("/articles",{params:t})}function c(t){return i["a"].get("/articles/".concat(t))}function s(){return i["a"].get("/articles/isRecommend")}function r(){return i["a"].get("/articles/reading")}function a(t){return i["a"].put("/articles/putRead/".concat(t))}},"33b9":function(t,n,e){},"39d7":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[void 0!==t.list.article?e("el-card",{staticClass:"box-card"},[e("div",[e("div",{staticClass:"head",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(" "+t._s(t.list.article.title))])]),e("p",{domProps:{innerHTML:t._s(t.list.article.content.words)}}),e("div",{staticStyle:{width:"200px","margin-left":"500px"}},[e("p",[t._v(t._s(t.list.article.user.username))]),e("p",[t._v(t._s(t.list.article.updatedTime))])])]),void 0!==t.getCommentFrom?e("div",t._l(t.getCommentFrom,(function(n){return e("div",{key:n.id},t._l(t.user,(function(i){return e("div",{key:i.id},[n.fromUserId==i.id?e("div",[t._v(" "+t._s(i.username)+" "),e("span",[t._v("："+t._s(n.comment))])]):t._e()])})),0)})),0):t._e(),e("div",{staticClass:"fool"},[t.zan?e("el-button",{attrs:{icon:"el-icon-thumb",circle:""},on:{click:function(n){return t.CancelZan(t.zanFrom)}}}):e("el-button",{attrs:{type:"success",icon:"el-icon-thumb",circle:""},on:{click:function(n){return t.isZan(t.zanFrom)}}}),t._v(" "+t._s(t.list.article.likesNum)+" "),e("el-button",{attrs:{type:"warning",icon:"el-icon-view",circle:""}}),t._v("浏览量:"+t._s(t.list.article.readingsNum)+" "),e("el-button",{attrs:{type:"text"},on:{click:t.com}},[t._v("评论")])],1)]):t._e()],1)},o=[],c=e("2423"),s=e("063c"),r=e("8977"),a=e("5f87"),u={data:function(){return{user:[],userId:"",zan:!1,id:0,list:[],zanFrom:{UserId:0,ArticleId:0},comFrom:{FromUserId:0,ToUserId:0,ArticleId:0,Comment:""},getCommentFrom:[]}},methods:{isZan:function(t){this.zan=!this.zan,this.list.article.likesNum+=1,Object(r["a"])(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},CancelZan:function(t){this.zan=!this.zan,this.list.article.likesNum-=1,Object(r["a"])(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},com:function(){var t=this;this.$prompt("请输入你评论的内容","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(n){var e=n.value;t.$message({type:"success",message:"评论成功"}),t.comFrom.Comment=e,t.comFrom.FromUserId=t.userId,t.comFrom.ToUserId=t.list.article.userId,t.comFrom.ArticleId=t.id,console.log(t.comFrom,"xixi"),console.log("你的评论是: "+e),Object(s["a"])(t.comFrom).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))})).catch((function(){t.$message({type:"info",message:"取消评论"})}))},details:function(){var t=this;Object(c["b"])(this.id).then((function(n){t.list=n.data,t.zan=t.list.like[0].applaud,t.zanFrom.UserId=t.list.article.userId,t.zanFrom.ArticleId=t.list.article.id,console.log(t.list)})).catch((function(t){console.log(t)}))},browse:function(){var t=this;Object(c["c"])(this.id).then((function(n){console.log(n),t.list.article.readingsNum+=1})).catch((function(t){console.log(t)}))},getCommentByArticleId:function(t){var n=this;Object(s["b"])(t).then((function(t){n.getCommentFrom=t.data.comment,n.user=t.data.user,console.log(n.user)})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;this.userId=Object(a["d"])(),this.id=this.$route.query.id,console.log(this.id),this.details(),this.getCommentByArticleId(this.id),setTimeout((function(){t.browse()}),2e4)}},l=u,d=(e("0806"),e("0c7c")),m=Object(d["a"])(l,i,o,!1,null,"2e689928",null);n["default"]=m.exports},8977:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var i=e("b775");function o(t){return i["a"].post("/likes",t)}}}]);
//# sourceMappingURL=chunk-4b166634.f48342e6.js.map